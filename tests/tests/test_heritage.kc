/*
** test_heritage.kc for  in /home/toumi_m/kooc/tests/tests
** 
** Made by User Toumi_m
** Login   <toumi_m@epitech.net>
** 
** Started on  Sat Jul 12 18:30:09 2008 User Toumi_m
** Last update Tue Jul 22 17:30:28 2008 morgan armand
*/

@import	"test_heritage.kh"

@implementation Stack
{
  @member
    {
      void	init(int size)
      {
	[super init];
	[self.size] = size;
      }

      int	nbitem()
      {
	int	n;

	n = [self.nbitem];
	return (n);
      }
    }
}

@implementation StackInt
{

  @member void	init(int size)
    {
      int	*buf;

      [super init :size];
      buf = (int *) calloc(size, sizeof(int));
      [self.data] = buf;
    }

  @member void	push(int i)
    {
      int	pos;
      int	*buf;

      pos = [self.nbitem];
      buf = [self.data];
      buf[pos++] = i;
      [self.nbitem] = pos;
    }

  @member int	pop()
    {
      int	*buf;
      int	 pos;
      int	r;

      pos = [self.nbitem];
      buf = [self.data];
      r = buf[pos--];
      [self.nbitem] = pos;
      return (r);
    }

  @member void	clean()
    {
      int	*buf;

      buf = [self.data];
      free(buf);
    }
}
